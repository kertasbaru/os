#!/bin/bash
# //====================================================
# //  Newbie Store - Copy 2024
# //====================================================
# //  System Request : DEB 9-12 / UBUNTU 18-24
# //  Author         : Kurniawan Setiadi
# //  Develop        : Newbie Store
# //  email          : Newbiestore09@gmail.com
# //  telegram       : https://t.me/newbie_store24
# //====================================================
clear
REDBG="\033[41m"  
WHITEBLD="\033[1;37m"
WHITE="\033[1;37m" 
NC="\033[0m"         
GREEN="\033[96;1m"
REDBLD="\033[0m\033[91;1m"
Green="\e[92;1m"
RED="\033[1;31m"
YELLOW="\033[33m"
BLUE="\033[36m"
GREENBG="\033[42;37m"
print_rainbow() {
    local text="$1"
    local warna_file="/etc/warna"

    # Inisialisasi warna default
    local start_r=0 start_g=255 start_b=150
    local mid_r=0 mid_g=150 mid_b=255
    local end_r=0 end_g=255 end_b=150

    # Fungsi untuk membaca nilai numerik dari file
    function get_value() {
        local key="$1"
        local value=$(grep -E "^$key=" "$warna_file" | cut -d'=' -f2 | tr -d '[:space:]')
        echo "${value:-0}"
    }

    # Jika file warna ada, baca isinya
    if [[ -f "$warna_file" ]]; then
        start_r=$(get_value "start_r")
        start_g=$(get_value "start_g")
        start_b=$(get_value "start_b")

        mid_r=$(get_value "mid_r")
        mid_g=$(get_value "mid_g")
        mid_b=$(get_value "mid_b")

        end_r=$(get_value "end_r")
        end_g=$(get_value "end_g")
        end_b=$(get_value "end_b")
    fi

    # Jalankan awk dengan warna yang sudah dimuat dari file
    echo "$text" | awk -v start_r="$start_r" -v start_g="$start_g" -v start_b="$start_b" \
                        -v mid_r="$mid_r" -v mid_g="$mid_g" -v mid_b="$mid_b" \
                        -v end_r="$end_r" -v end_g="$end_g" -v end_b="$end_b" '
    {
        len = length($0);
        for (i = 1; i <= len; i++) {
            progress = (i - 1) / (len - 1);
            if (progress < 0.5) {
                factor = progress * 2;
                r = int((1 - factor) * start_r + factor * mid_r);
                g = int((1 - factor) * start_g + factor * mid_g);
                b = int((1 - factor) * start_b + factor * mid_b);
            } else {
                factor = (progress - 0.5) * 2;
                r = int((1 - factor) * mid_r + factor * end_r);
                g = int((1 - factor) * mid_g + factor * end_g);
                b = int((1 - factor) * mid_b + factor * end_b);
            }
            printf "\033[38;2;%d;%d;%dm%s", r, g, b, substr($0, i, 1);
        }
        print "\033[0m";
    }'
}
garis(){
print_rainbow " â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€"
}
garis_bawah(){
print_rainbow " â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜"
}
garis_atas(){
print_rainbow " â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”"
}
garis_tebal(){
print_rainbow " â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
}
center() {
    BOX_WIDTH=48
    TEXT="$1"
    TEXT_LENGTH=${#TEXT}
    TEXT_CLEAN=$(echo -e "$TEXT" | sed 's/\x1b\[[0-9;]*m//g')
    TEXT_LENGTH=${#TEXT_CLEAN}
    # Hitung padding
    LEFT_PADDING=$(( (BOX_WIDTH - TEXT_LENGTH) / 2 ))
    RIGHT_PADDING=$(( BOX_WIDTH - TEXT_LENGTH - LEFT_PADDING ))

    # Cetak dengan warna menggunakan printf
    printf "%*s%s%*s\n" "$LEFT_PADDING" "" "$TEXT" "$RIGHT_PADDING" ""
}
function Loading() {
BOX_WIDTH=48
TEXT="[ PROCESSING, PLEASE WAIT.. ] "
TEXT_LENGTH=${#TEXT}
LEFT_PADDING=$(( (BOX_WIDTH - TEXT_LENGTH) / 2 ))
RIGHT_PADDING=$(( BOX_WIDTH - TEXT_LENGTH - LEFT_PADDING ))
LEFT_SPACE=$(printf '%*s' $LEFT_PADDING '')
RIGHT_SPACE=$(printf '%*s' $RIGHT_PADDING '')
print_rainbow " â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
print_rainbow " ${LEFT_SPACE}${TEXT}${RIGHT_SPACE}"
print_rainbow " â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
}

function Newbie_Banner() {
BOX_WIDTH=48
TEXT="[ REGISTER IP ] "
TEXT_LENGTH=${#TEXT}
LEFT_PADDING=$(( (BOX_WIDTH - TEXT_LENGTH) / 2 ))
RIGHT_PADDING=$(( BOX_WIDTH - TEXT_LENGTH - LEFT_PADDING ))
LEFT_SPACE=$(printf '%*s' $LEFT_PADDING '')
RIGHT_SPACE=$(printf '%*s' $RIGHT_PADDING '')
print_rainbow " â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
print_rainbow " ${LEFT_SPACE}${TEXT}${RIGHT_SPACE}"
print_rainbow " â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
}
function Sc_Credit(){
nama=$(cat /etc/xray/username)
BOX_WIDTH=48
TEXT="SCRIPT BY $nama"
TEXT_LENGTH=${#TEXT}
LEFT_PADDING=$(( (BOX_WIDTH - TEXT_LENGTH) / 2 ))
RIGHT_PADDING=$(( BOX_WIDTH - TEXT_LENGTH - LEFT_PADDING ))
LEFT_SPACE=$(printf '%*s' $LEFT_PADDING '')
RIGHT_SPACE=$(printf '%*s' $RIGHT_PADDING '')
print_rainbow " â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
print_rainbow " ${LEFT_SPACE}${TEXT}${RIGHT_SPACE}"
print_rainbow " â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
read -p "Tekan Enter untuk kembali ke menu..."
regisip
exit 0
}
# // Get Bot
TIME="10"
URL="https://api.telegram.org/bot$KEY/sendMessage"
clear
# Valid Script
MYIP=$(curl -sS ipv4.icanhazip.com)
PROFIL=$(curl -sS https://raw.githubusercontent.com/kertasbaru/izin/main/ip | grep -wE $MYIP | awk '{print $2}')
data_ip=$(curl -sS https://raw.githubusercontent.com/kertasbaru/izin/main/ip | grep -wE $MYIP | awk '{print $6}')
checking_sc() {
if [[ -n "$data_ip" || "$data_ip" -gt 0 ]]; then
    echo -ne
  else
    # Tanggal sekarang lebih besar dari tanggal expired, atau format salah
echo -e "\033[1;93mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\033[0m"
echo -e "\033[41;1m âš ï¸       AKSES DI TOLAK         âš ï¸ \033[0m"
echo -e "\033[1;93mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\033[0m"
echo -e ""
echo -e "        \033[91;1mâŒ SCRIPT LOCKED âŒ\033[0m"
echo -e ""
echo -e "  \033[0;33mðŸ”’ Your VPS\033[0m $ipsaya \033[0;33mHas been Banned\033[0m"
echo -e ""
echo -e "  \033[91mâš ï¸  Masa Aktif Sudah Habis âš ï¸\033[0m"
echo -e "  \033[0;33mðŸ’¡ Beli izin resmi hanya dari Admin!\033[0m"
echo -e ""
echo -e "  \033[92;1mðŸ“ž Contact Admin:\033[0m"
echo -e "  \033[96mðŸŒ Telegram: https://t.me/WuzzSTORE\033[0m"
echo -e "  \033[96mðŸ“± WhatsApp: https://wa.me/6287760204418\033[0m"
echo -e ""
echo -e "\033[1;93mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\033[0m"
exit 1
  fi
}
checking_sc
eval $(wget -qO- "https://drive.google.com/u/4/uc?id=1eutPTYsea7xYx1mNBWDQ_g1Yx3ZPNimF")
function register() {
AVAILABLE=$(curl -sS https://raw.githubusercontent.com/kertasbaru/izin/main/ip | grep -wE $MYIP | awk '{print $6}')
echo -e "${YELLOW}      $AVAILABLE ${NC} ${WHITEBLD} IP DAPAT ANDA REGISTER${NC}"
}

add-ip() {
    today=`date -d "0 days" +"%Y-%m-%d"`
    git clone "${REPO}"  &> /dev/null
clear
    Newbie_Banner
garis
center "$(printf "${WHITEBLD} MASUKAN IP VPS YANG BELUM DI DAFTAR !${NC}\n")"
garis
	while true; do
	echo -e "$WHITEBLD"
    read -p " Input IP Address                   : " ipqu
    echo -e "${NC}"
	if [[ -z "$ipqu" || "$ipqu" == "exit" ]]; then
    echo -e "${REDBLD} IP kosong atau exit! Proses Kembali Ke Menu sebelumnya.${NC}"
	sleep 1
    regisip
    exit 1
    elif ! [[ "$ipqu" =~ ^[0-9.]+$ ]]; then
    echo -e "${REDBLD} Input IP Salah! Silakan Periksa IP anda lagi.${NC}" 
	sleep 2
	tput cuu 4 && tput ed 
    else
      break
    fi
  done

    CLIENT_EXISTS=$(grep -w $ipqu /root/izin/ip | wc -l)
    
    if [[ ${CLIENT_EXISTS} == '1' ]]; then
        echo -r "${REDBLD}IP Already Exist !${NC}"
		resgisip
        exit 1
    fi
	
	while true; do
	echo -e "$WHITEBLD"
    read -p " Input Username (EX : NEWBIE_STORE) : " name
	echo -e "${NC}"
	if [[ -z "$name" ]]; then
    echo -e "${REDBLD} Nama Tidak Boleh Kosong! Silahkan Coba Lagi.${NC}"
	sleep 2
	tput cuu 4 && tput ed 
	elif [[ ! "$name" =~ ^[a-zA-Z][a-zA-Z0-9_-]*$ ]]; then
    echo -e "${REDBLD} Nama tidak valid! Nama harus diawali huruf.${NC}"
	sleep 2
	tput cuu 4 && tput ed 
    else
      break
    fi
	done
	while true; do
	echo -e "$WHITEBLD"
    read -p " Input waktu expired                :" exp
	echo -e "$NC"
	if [[ -z "$exp" || "$exp" == 0 ]]; then
    echo -e "${REDBLD} Waktu Exp Tidak Boleh Kosong atau 0! Silahkan Coba Lagi.${NC}"
	sleep 2
	tput cuu 4 && tput ed 
	elif [[ ! "$exp" =~ ^[0-9]+$ ]]; then
    echo -e "${REDBLD} Waktu Exp Harus Berupa Angka! Silakan Coba lagi.${NC}"
	sleep 2
	tput cuu 4 && tput ed 
    else
      break
    fi
	done
clear
Loading
    exp2=`date -d "${exp} days" +"%Y-%m-%d"`
    if grep -q "^# $PROFIL" "/root/izin/ip"; then
        sed -i "/^# $PROFIL/a ### ${name} ${exp2} ${ipqu}" "/root/izin/ip"
    else
        echo -e "# $PROFIL\n### ${name} ${exp2} ${ipqu}" >> "/root/izin/ip"
    fi
    exp1=$(grep "$MYIP" /root/izin/ip | cut -d " " -f3)
    JUMLAH=$(grep "$MYIP" /root/izin/ip | cut -d " " -f6)
    SISA=$((JUMLAH - 1))
    sed -i "s/### $PROFIL $exp1 $MYIP ON $JUMLAH VIP/### $PROFIL $exp1 $MYIP ON $SISA VIP/" /root/izin/ip
    cd /root/izin
    git config --global user.email "${EMAILGIT}" &> /dev/null
    git config --global user.name "${USERGIT}" &> /dev/null
    rm -rf .git &> /dev/null
    git init &> /dev/null
    git add . &> /dev/null
    git commit -m izin &> /dev/null
    git branch -M main &> /dev/null
    git remote add origin https://github.com/${USERGIT}/izin.git &> /dev/null
    git push -f https://${GH}@github.com/${USERGIT}/izin.git &> /dev/null
    cd 
 rm -rf /root/izin
    TEXT="
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
       SUCCESS REGISTERED IP VPS
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    USERNAME       : $name
    IP Address     : <code>$ipqu</code>
    Registered On  : $today
    Expired On     : $exp2
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    "
    curl -s --max-time $TIME -d "chat_id=$CHATID&disable_web_page_preview=1&text=$TEXT&parse_mode=html" $URL >/dev/null
clear
    garis_tebal
    center "$(printf "${YELLOW}SUCCESS ADD IP VPS${NC}\n")"
	garis_tebal
    garis_atas
    echo -e "${WHITEBLD}   USERNAME   :${NC}${YELLOW} $name ${NC}"
    echo -e "${WHITEBLD}   IP ADDRESS :${NC}${YELLOW} $ipqu ${NC}"
    echo -e "${WHITEBLD}   REGISTERED :${NC}${YELLOW} $today ${NC}"
    echo -e "${WHITEBLD}   EXPIRED ON :${NC}${YELLOW} $exp2 ${NC}"
    garis_bawah
	Sc_Credit
}

del-ip() {
    git clone "${REPO}"  &> /dev/null
    clear
	Newbie_Banner
	center "$(printf "${WHITEBLD} LIST IP VPS !${NC}\n")"
    garis_atas
	grep -E "^###" "/root/izin/ip" | cut -d ' ' -f 2-4 | sort -k2,2 -t' ' | uniq | awk -v WHITEBLD="$WHITEBLD" -v NC="$NC" '{printf "%s  %-15s | %-11s | %-10s%s\n", WHITEBLD, $1, $2, $3, NC}'
    garis_bawah
	while true; do
	echo -e "$WHITEBLD"
    read -p " Input IP Address : " ipdel
    echo -e "${NC}"
	if [[ -z "$ipdel" || "$ipdel" == "exit" ]]; then
    echo -e "${REDBLD} IP kosong atau exit! Proses Kembali Ke Menu sebelumnya.${NC}"
	sleep 1
    regisip
    exit 1
    elif ! [[ "$ipdel" =~ ^[0-9.]+$ ]]; then
    echo -e "${REDBLD} Input IP Salah! Silakan Periksa IP anda lagi.${NC}" 
	sleep 2
	tput cuu 4 && tput ed 
    else
      break
    fi
  done
    clear
	Loading
    name=$(cat /root/izin/ip | grep $ipdel | cut -d " " -f2)
    exp=$(cat /root/izin/ip | grep $ipdel | cut -d " " -f3)
    sed -i "/^### $name $exp $ipdel/d" /root/izin/ip
cd /root/izin
    git config --global user.email "${EMAILGIT}" &> /dev/null
    git config --global user.name "${USERGIT}" &> /dev/null
    rm -rf .git &> /dev/null
    git init &> /dev/null
    git add . &> /dev/null
    git commit -m izin &> /dev/null
    git branch -M main &> /dev/null
	git remote add origin https://github.com/${USERGIT}/izin.git &> /dev/null
	git push -f https://${GH}@github.com/${USERGIT}/izin.git &> /dev/null
    cd 
 rm -rf /root/izin
TEXT1="
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    SUCCESS DELETE IP VPS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
USERNAME       : $name
IP Address     : <code>$ipdel</code>
Expired On     : $exp
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
"
     
curl -s --max-time $TIME -d "chat_id=$CHATID&disable_web_page_preview=1&text=$TEXT1&parse_mode=html" $URL >/dev/null
clear
garis_tebal
center "$(printf "${YELLOW}DONE DELETE IP VPS${NC}\n")"
garis_tebal
garis
echo -e "${WHITEBLD} USERNAME   :${NC}${YELLOW} $name${NC}"
echo -e "${WHITEBLD} IP ADDRESS :${NC}${YELLOW} $ipdel${NC}"
echo -e "${WHITEBLD} EXPIRED ON :${NC}${YELLOW} $exp${NC}"
garis
Sc_Credit
}

renew-ip() {
git clone "${REPO}"  &> /dev/null
clear
Newbie_Banner
center "$(printf "${YELLOW}RENEW IP VPS${NC}\n")"
garis_atas
	grep -E "^###" "/root/izin/ip" | cut -d ' ' -f 2-4 | sort -k2,2 -t' ' | uniq | awk -v WHITEBLD="$WHITEBLD" -v NC="$NC" '{printf "%s  %-15s | %-11s | %-10s%s\n", WHITEBLD, $1, $2, $3, NC}'
garis_bawah
	while true; do
	echo -e "$WHITEBLD"
    read -p " Input IP Address To Renew : " ipdel
    echo -e "${NC}"
	if [[ -z "$ipdel" || "$ipdel" == "exit" ]]; then
    echo -e "${REDBLD} IP kosong atau exit! Proses Kembali Ke Menu sebelumnya.${NC}"
	sleep 1
    regisip
    exit 1
    elif ! [[ "$ipdel" =~ ^[0-9.]+$ ]]; then
    echo -e "${REDBLD} Input IP Salah! Silakan Periksa IP anda lagi.${NC}" 
	sleep 2
	tput cuu 4 && tput ed 
    else
      break
    fi
  done
  	while true; do
	echo -e "$WHITEBLD"
    read -p " Input Days                : " days
	echo -e "$NC"
	if [[ -z "$days" || "$days" == 0 ]]; then
    echo -e "${REDBLD} Waktu Days Tidak Boleh Kosong atau 0! Silahkan Coba Lagi.${NC}"
	sleep 2
	tput cuu 4 && tput ed 
	elif [[ ! "$days" =~ ^[0-9]+$ ]]; then
    echo -e "${REDBLD} Waktu Days Harus Berupa Angka! Silakan Coba lagi.${NC}"
	sleep 2
	tput cuu 4 && tput ed 
    else
      break
    fi
	done
clear
Loading
name=$(cat /root/izin/ip | grep $ipdel | cut -d " " -f2)
exp=$(cat /root/izin/ip | grep $ipdel | cut -d " " -f3)
now=$(date +%Y-%m-%d)
d1=$(date -d "$exp" +%s)
d2=$(date -d "$now" +%s)
exp2=$(( (d1 - d2) / 86400 ))
exp3=$(($exp2 + $days))
exp4=`date -d "$exp3 days" +"%Y-%m-%d"`
sed -i "s/### $name $exp $ipdel/### $name $exp4 $ipdel/" /root/izin/ip
exp1=$(grep "$MYIP" /root/izin/ip | cut -d " " -f3)
JUMLAH=$(grep "$MYIP" /root/izin/ip | cut -d " " -f6)
SISA=$((JUMLAH - 1))
sed -i "s/### $PROFIL $exp1 $MYIP ON $JUMLAH VIP/### $PROFIL $exp1 $MYIP ON $SISA VIP/" /root/izin/ip
cd /root/izin
git config --global user.email "${EMAILGIT}" &> /dev/null
git config --global user.name "${USERGIT}" &> /dev/null
rm -rf .git &> /dev/null
git init &> /dev/null
git add . &> /dev/null
git commit -m izin &> /dev/null
git branch -M main &> /dev/null
git remote add origin https://github.com/${USERGIT}/izin.git &> /dev/null
git push -f https://${GH}@github.com/${USERGIT}/izin.git &> /dev/null
cd 
 rm -rf /root/izin
clear
     
TEXT2="
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    SUCCESS RENEW  IP VPS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
USERNAME       : $name
IP Address     : <code>$ipdel</code>
Expired On     : $exp4
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
"
     
curl -s --max-time $TIME -d "chat_id=$CHATID&disable_web_page_preview=1&text=$TEXT2&parse_mode=html" $URL >/dev/null
clear
echo ""
garis
center "$(printf "${YELLOW}DONE RENEW IP VPS${NC}\n")"
garis
echo -e "${WHITEBLD}  USERNAME   :${NC}${YELLOW} $name"
echo -e "${WHITEBLD}  IP ADDRESS :${NC}${YELLOW} $ipdel"
echo -e "${WHITEBLD}  EXPIRED ON :${NC}${YELLOW} $exp4"
garis
Sc_Credit
}
clear
checking_sc
rm -r /root/izin &> /dev/null
if [ ! -s /etc/apigh ]; then
  echo "Token GITHUB tidak ditemukan."
  echo "Jika Anda tidak memiliki token, tekan Enter untuk membiarkannya kosong."
  read -p "Masukkan token Github Anda: " input_token

  if [ -n "$input_token" ]; then
    echo "$input_token" > /etc/apigh
    export GH="$input_token"
  else
    echo "Tidak ada token dimasukkan, tidak dapat melanjutkan"
	exit 1
  fi
else
  GH=$(< /etc/apigh)
  export GH
  export REPO="https://github.com/kertasbaru/izin/"
fi

garis_tebal
center "$(print_rainbow "WELCOME TO REGISTER IPVPS")"
garis_tebal
register
garis
echo -e " $YELLOW 1.$NC ${WHITEBLD}ADD IP VPS "$NC     
echo -e " $YELLOW 2.$NC ${WHITEBLD}DELETE IP VPS"$NC
echo -e " $YELLOW 3.$NC ${WHITEBLD}RENEW IP VPS"$NC
echo -e " $YELLOW 4.$NC ${WHITEBLD}Back To menu"$NC
garis
while true; do
echo ""
read -p " Select From Options [1 - 4 or x] : " menu
case $menu in
		1 | 01) add-ip ; break;;
		2 | 02) del-ip ; break;;
		3 | 03) renew-ip ; break;;
		4 | 04 | x | X) menu ; break;;
        *) 	
			tput cuu 1 && tput el 
			tput cuu 1 && tput el 
            echo -e "\nInput tidak valid! Silakan coba lagi."
            sleep 2
			tput cuu 1 && tput el  
            ;;
    esac
	tput cuu 1 && tput el  
    read -p "Tekan Enter untuk kembali ke menu..."
    tput cuu 1 && tput el  # Hapus pesan error sebelum kembali ke input
done